jQuery(document).ready((function(e){e(".st-dismiss-plugin-notice").on("click",(function(t){t.preventDefault(),e.post(product_chimp_plugin_notice.ajax_url,{action:"product_chimp_dismiss_plugin_notice",nonce:product_chimp_plugin_notice.nonce}),e(this).closest(".st-plugin-notice").fadeOut()}))})),jQuery((function(e){e(document).on("click",".upload-menu-image",(function(t){t.preventDefault();const i=e(this),n=i.closest(".field-image"),a=n.find(".menu-item-image-id"),m=n.find(".menu-image-preview"),o=n.find(".remove-menu-image");let c=i.data("media‑frame");c||(c=wp.media({title:"Select menu image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}),c.on("select",(()=>{const e=c.state().get("selection").first().toJSON();a.val(e.id).trigger("change");const t=e.sizes?.thumbnail?.url||e.url;m.html(`<img src="${t}" alt="">`),n.addClass("has-image"),i.text("Change"),o.show()})),i.data("media‑frame",c)),c.off("open").on("open",(()=>{const e=c.state().get("selection");e.reset();const t=parseInt(a.val(),10);if(t){const i=wp.media.attachment(t);i.fetch(),e.add(i)}})),c.open()})),e(document).on("click",".remove-menu-image",(function(t){t.preventDefault();const i=e(this).closest(".field-image"),n=i.find(".menu-item-image-id"),a=i.find(".menu-image-preview"),m=i.find(".upload-menu-image");n.val("").removeAttr("value"),a.empty(),i.removeClass("has-image"),m.text("Set image"),e(this).hide()}))}));